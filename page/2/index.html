<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"123.57.173.58","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="What I have learned">
<meta property="og:type" content="website">
<meta property="og:title" content="Paradox&#39;s Blog">
<meta property="og:url" content="http://123.57.173.58/page/2/index.html">
<meta property="og:site_name" content="Paradox&#39;s Blog">
<meta property="og:description" content="What I have learned">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Paradox">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://123.57.173.58/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Paradox's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Paradox's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/11/2020-10-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/11/2020-10-11/" class="post-title-link" itemprop="url">Sun Oct 11 2020 08:00:00 GMT+0800 (China Standard Time)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-11 22:12:35 / Modified: 22:51:05" itemprop="dateCreated datePublished" datetime="2020-10-11T22:12:35+08:00">2020-10-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午">上午</h4>
<ul>
<li></li>
</ul>
<h4 id="下午">下午</h4>
<ul>
<li></li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li>攻防世界 实时数据监测
<ul>
<li>是printf漏洞的利用类型题目</li>
<li>再利用%n选项时, 思路不要只局限于去写一个int, 可以利用这一点通过算偏移量多次覆写来达到自己想要的目的</li>
<li>可以中间插入%s来凑目标覆写值(毕竟格式化字符串长度肯定受限)</li>
</ul></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/10/2020-10-10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/10/2020-10-10/" class="post-title-link" itemprop="url">Sat Oct 10 2020 08:00:00 GMT+0800 (China Standard Time)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-10 22:56:52 / Modified: 23:04:28" itemprop="dateCreated datePublished" datetime="2020-10-10T22:56:52+08:00">2020-10-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午">上午</h4>
<ul>
<li>继续看了LinkedHashMap, HashMap这部分的Java源码
<ul>
<li>HashMap的hash函数居然是直接拿这个key的hash值&amp;上tab最大index n-1</li>
<li>某个位置的链表长度到8之后, 如果tab长度小于64就resize, 否则treeify该链表(仍保持链表结构)</li>
</ul></li>
</ul>
<h4 id="下午">下午</h4>
<ul>
<li>红黑树… 基本给出了insert大概的c++实现</li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li>debug了下, 基本保持正确了
<ul>
<li>这细节方面的错误也忒多了...</li>
<li>以后修改这种链状结构要把node_t里面连接其他node的指针全改一遍</li>
</ul></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/09/2020-10-9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/09/2020-10-9/" class="post-title-link" itemprop="url">2020-10-9</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-09 22:49:30 / Modified: 23:24:11" itemprop="dateCreated datePublished" datetime="2020-10-09T22:49:30+08:00">2020-10-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午">上午</h4>
<ul>
<li>微分几何课</li>
<li>泛函分析作业</li>
</ul>
<h4 id="下午">下午</h4>
<ul>
<li>泛函分析作业</li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li><p>微分几何课</p></li>
<li><p>初步阅读了下Java里面LinkedHashMap的实现</p>
<p>其实就是往Hash Table里面塞了的东西是双向链表的结构</p></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/08/2020-10-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/08/2020-10-8/" class="post-title-link" itemprop="url">2020-10-8</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-10-08 13:54:04" itemprop="dateCreated datePublished" datetime="2020-10-08T13:54:04+08:00">2020-10-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-10-10 22:59:10" itemprop="dateModified" datetime="2020-10-10T22:59:10+08:00">2020-10-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午">上午</h4>
<ul>
<li><p>阅读了计算机网络的网络层数据平面的概述和路由器工作原理两节</p></li>
<li><p>每日一题的leetcode 327.Count of Range Sum, 第一种解法是用红黑树写的</p>
<p>今天又是因为红黑树而直接看别人解法的一天呢~, 准备稍晚看merge sort的那种解法</p></li>
<li><p>重新回顾了一遍TCP congestion control algorithm</p>
<p>如果是三个冗余ACK触发的重传就是加性增(每个RTT把cwnd加一个MSS), 乘性减(遇到快速重传cwnd直接减半)</p></li>
</ul>
<h4 id="下午">下午</h4>
<ul>
<li>尝试实现红黑树但失败了, 一下午之后明白了node_t结构里要有parent指针</li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li>云计算课, 真的好水</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/08/327-Count-of-Range-Sum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/08/327-Count-of-Range-Sum/" class="post-title-link" itemprop="url">327.Count of Range Sum</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-08 11:10:04 / Modified: 19:13:00" itemprop="dateCreated datePublished" datetime="2020-10-08T11:10:04+08:00">2020-10-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="count-of-range-sum">327.Count of Range Sum</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/count-of-range-sum/description/">source link</a></p>
</blockquote>
<h5 id="description">Description</h5>
<p>Given an integer array <code>nums</code>, return the number of range sums that lie in <code>[lower, upper]</code> inclusive. Range sum <code>S(i, j)</code> is defined as the sum of the elements in <code>nums</code> between indices <code>i</code> and <code>j</code> (<code>i</code> ≤ <code>j</code>), inclusive.</p>
<h5 id="signature">Signature</h5>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span></span>;</span><br></pre></td></tr></table></figure>
<h5 id="analysis">Analysis</h5>
<p>Naive solution 是显然的, 但需要 <code>O(n^2)</code> 的时间, 可以使用红黑树来来维持有序结构, 在c++里面可以使用用红黑树实现的multiset来进行操作:</p>
<ol type="1">
<li>要插入一个0来保证sum[i]自己在lower与upper时间这种情况没有被遗漏</li>
<li>遍历<code>nums</code>, 更新sum变量使其代表sum[i], 在插入之前, 在红黑树中搜索此时符合题目解的数量, 这个解代表了[j:i](inclusive)区域和符合要求的数量(0&lt;=j&lt;=i), 而这个操作所需的时间为<code>O(log n)</code></li>
<li>经历总共<code>O(nlgn)</code> 时间后得到了所有结果</li>
</ol>
<h5 id="solution">Solution</h5>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countRangeSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> lower, <span class="keyword">int</span> upper)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">multiset</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; <span class="built_in">set</span>;</span><br><span class="line">    <span class="built_in">set</span>.insert(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.size(); i++) &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        r += distance(<span class="built_in">set</span>.lower_bound(sum - upper), <span class="built_in">set</span>.upper_bound(sum - lower));</span><br><span class="line">        <span class="built_in">set</span>.insert(sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/07/2020-10-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/07/2020-10-7/" class="post-title-link" itemprop="url">2020-10-7</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-07 21:24:52 / Modified: 21:27:46" itemprop="dateCreated datePublished" datetime="2020-10-07T21:24:52+08:00">2020-10-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午">上午</h4>
<ul>
<li>阅读TCP拥塞机制部分</li>
<li>微分几何</li>
</ul>
<h4 id="下午">下午</h4>
<ul>
<li><p>红黑树</p>
<p>想用代码实现来着但没搞成...</p></li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li>看了一下TCP的wireshark lab</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/06/2020-10-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/06/2020-10-6/" class="post-title-link" itemprop="url">2020-10-6</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-06 22:44:09 / Modified: 22:48:17" itemprop="dateCreated datePublished" datetime="2020-10-06T22:44:09+08:00">2020-10-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午">上午</h4>
<ul>
<li><p>由了解RELRO为动力写了篇着重介绍PLT, GOT表以及动态加载机制的文章</p>
<p>CSAPP上啥都有, 就是我看的不仔细, CSAPP永远滴神</p></li>
</ul>
<h4 id="下午">下午</h4>
<ul>
<li>每日一题315.Count of Smaller Numbers After Self, 我用multiset写了个感觉是<code>O(nlog n)</code>的结果超时, discussion里有直接用BST写的都能超80% submissions… 吐槽他们选的测试集… 应该用自平衡树的啊...</li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li>Eu4, 英法战争一小输一大输丧失了陆权, 悲</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/06/315-Count-of-Smaller-Numbers-After-Self/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/06/315-Count-of-Smaller-Numbers-After-Self/" class="post-title-link" itemprop="url">315.Count of Smaller Numbers After Self</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-06 22:29:31 / Modified: 22:43:58" itemprop="dateCreated datePublished" datetime="2020-10-06T22:29:31+08:00">2020-10-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/Binary-Index-Tree/" itemprop="url" rel="index"><span itemprop="name">Binary Index Tree</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="count-of-smaller-numbers-after-self">315.Count of Smaller Numbers After Self</h3>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://leetcode.com/problems/count-of-smaller-numbers-after-self/description/">source link</a></p>
</blockquote>
<h5 id="description">Description</h5>
<p>You are given an integer array <em>nums</em> and you have to return a new <em>counts</em> array. The <em>counts</em> array has the property where <code>counts[i]</code> is the number of smaller elements to the right of <code>nums[i]</code>.</p>
<h5 id="signature">Signature</h5>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">countSmaller</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span></span>;</span><br></pre></td></tr></table></figure>
<h5 id="analysis">Analysis</h5>
<p>In this problem I won’t give the solution because a simple binary search tree can pass all the test cases and beat more than 80% submissions… Later I will implement red-black tree or another self-balance tree.</p>
<p>To solve this problem, you just need to iterate all elements in <code>nums</code> in reverse order and maintain a orderly structure to let the current element insert in and get its index info.</p>
<p>So the self-balance tree is the perfect choice, it allows insert in <code>O(log n)</code> time and can get the specific index while do insert.</p>
<h5 id="solution">Solution</h5>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/06/%E7%AE%80%E4%BB%8Blinux%E4%B8%8Bexecutable%E7%9A%84%E5%87%A0%E7%A7%8D%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/06/%E7%AE%80%E4%BB%8Blinux%E4%B8%8Bexecutable%E7%9A%84%E5%87%A0%E7%A7%8D%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6/" class="post-title-link" itemprop="url">简介linux下executable的几种保护机制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-06 09:06:23 / Modified: 15:08:07" itemprop="dateCreated datePublished" datetime="2020-10-06T09:06:23+08:00">2020-10-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ctf/" itemprop="url" rel="index"><span itemprop="name">ctf</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ctf/pwn/" itemprop="url" rel="index"><span itemprop="name">pwn</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="简介linux下executable的几种保护机制">简介linux下executable的几种保护机制</h3>
<p>本文是我在了解RELRO时感觉我对.plt和.got了解太少了, 于是补全下我对elf链接机制的空白.</p>
<p>如题, 首先来介绍几种常见的anti-exploit机制:</p>
<ul>
<li><p>NX保护</p>
<p>开启了NX保护后栈区不可执行, 读写执行权限由页表给出, 早期由于硬件的问题, 权限只能分为read-only和writeable&amp;executable, 但近年随着硬件支持, executable可作为单独的权限给出(page table中的NX位)</p></li>
<li><p>canary</p>
<p>这个选项在gcc中默认开启, 会在返回地址和saved register下创建一个canary值, 在函数ret之前会检查该值, 若发现被改变则会直接跳转至<code>__stack_chk_fail</code> 从而防止栈溢出攻击</p>
<p>常用的规避方式有</p>
<ul>
<li>泄漏canary值进行二次注入</li>
<li>劫持<code>__stack_chk_fail</code></li>
</ul></li>
<li><p>ASLR</p>
<ul>
<li>.so文件会被加载到随机地址</li>
<li>ld时如果有-pie option, .text段的加载地址也会被随机化</li>
<li>stack, heap地址随机化</li>
</ul></li>
<li><p>RELRO(relocation read-only)</p>
<p>需要先介绍elf的.got, .plt段</p></li>
</ul>
<h5 id="got-.plt">.got &amp; .plt</h5>
<p>As we already know, the elf include main symbol after linking does not include everything! For example, if you use <code>printf</code> in your program, the binary for <code>printf</code> doesn’t in your elf such like text segment even you have done link. So your program still need <code>shared library</code> at load time or runtime. The GOT&amp;PLT segment are the keys to code&amp;use dynamic or shared library.</p>
<p>PLT stands for Procedure Linkage Table, it is used to called the extern function whose address isn’t know at linking time, such as the dynamic shared library. The entry in plt is left to be resolved by dynamic linker at run time.</p>
<p>GOT stands for Global Offsets Table, as its name, every entry in GOT represents a offset because there is a fact that the distance between data segment and code segment is fixed. After dynamic linking entries in GOT are relocated to absolute address.</p>
<p>PIC(Position-Independent Code) can be implemented by a interesting mechanism called lazy binding: delay the bind of absolute address of shared library’s symbols to the first reference occured.</p>
<p>(切成中文) GOT表中第0项是.dynamic的地址, 第一项是reloc entry的地址, 这两项是动态链接器解析地址时会用到的信息, 第2项是动态链接器的入口</p>
<p>PLT表中第0项调用动态链接器, 第一项是系统启动函数<code>__libc_start_main</code>, 执行初始化环境</p>
<p>这种机制使得在.text段中调用的函数只是一个壳子, 在第一次调用时:</p>
<ol type="1">
<li>对函数的调用会跳转到PLT表中对应的条目, 第一条指令会把该函数ID压入栈中</li>
<li>这个条目跳转到对应GOT表条目</li>
<li>此时GOT表条目简单的指向PLT中对应条目的第二条指令</li>
<li>继续执行跳转到PLT[0]</li>
<li>把GOT[1]压入栈中, 跳转到GOT[2]进入动态链接器</li>
<li>动态链接器重写GOT对应条目并交换控制给调用函数</li>
</ol>
<p>之后调用就只是简单的跳转到PLT再到GOT调用目标函数了</p>
<h5 id="relro">RELRO!!!</h5>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -g -O0 -Wl,-z,relro,-z,now -o &lt;binary_name&gt; &lt;source_code&gt;</span><br></pre></td></tr></table></figure>
<p>RELRO分为partial RELRO和full RELRO</p>
<ul>
<li><p>partial RELRO</p>
<p>It’s also possible to compile with partial RELRO, which can be achieved by using the "-<code>z,relro</code>" option and not the "<code>-z,now</code>" on the gcc command line.</p>
<p>In partial RELRO, the non-PLT part of the GOT section (.got from readelf output) is read only but .got.plt is still writeable.</p></li>
<li><p>full RELRO</p>
<p>In complete RELRO, the entire GOT (.got and .got.plt both) is marked as read-only.</p>
<p>使用了-z,now option使得所有PLT指向的GOT项在加载开始时全部重定向完毕再把整个GOT表权限改为read-only</p></li>
</ul>
<p>所以其实partial RELRO没啥用, 仍然可以通过改GOT表的方式劫持程序, 进行getshell之类的操作</p>
<h5 id="reference">Reference</h5>
<ul>
<li><p>CSAPP</p></li>
<li><p>《ctf特训营》— FlappyPig</p></li>
<li><p>https://en.wikipedia.org/wiki/Global_Offset_Table</p></li>
<li><p>https://reverseengineering.stackexchange.com/questions/1992/what-is-plt-got</p></li>
<li><p>https://www.technovelty.org/linux/plt-and-got-the-key-to-code-sharing-and-dynamic-libraries.html</p></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://123.57.173.58/2020/10/06/2020-10-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Paradox">
      <meta itemprop="description" content="What I have learned">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Paradox's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/06/2020-10-5/" class="post-title-link" itemprop="url">2020-10-5</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-10-06 08:32:30 / Modified: 08:49:06" itemprop="dateCreated datePublished" datetime="2020-10-06T08:32:30+08:00">2020-10-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/diary/" itemprop="url" rel="index"><span itemprop="name">diary</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="上午下午">上午&amp;下午</h4>
<ul>
<li><p>看10.4晚上那道算法题<code>218.The Skyline Problem</code></p>
<ul>
<li>“扫线法”</li>
<li>c++ 中的 priority_queue 和 multiset 结构, multiset内部实现可用红黑树</li>
</ul></li>
</ul>
<h4 id="晚上">晚上</h4>
<ul>
<li><p>每日一题307.Range Sum Query - Mutable</p>
<p>这道题是用的我没听说的数据结构 — Binary Index Tree, 利用这个结构, 可以在<code>O(n)</code>时间内完成构造, <code>O(log n)</code>时间内完成查询前缀和和更新操作</p></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Paradox</p>
  <div class="site-description" itemprop="description">What I have learned</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Paradox</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
